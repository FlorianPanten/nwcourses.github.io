<!DOCTYPE html>
<html>
<head>
<title>Introduction to Java</title>
<link rel='stylesheet' type='text/css' href='../css/dfti0910.css' />
<style type='text/css'>
li { margin: 10px; }
img { margin: 10px; border: 1px solid black; }
</style>
</head>
<body>
<h1>Object Oriented Programming</h1>
<h1>Week 1: Introduction to Java</h1>

<h2>Introduction to the unit</h2>

<p>So far on your course you have been introduced to the fundamentals of programming using 
Python. You have learnt about variables, loops, conditional statements, arrays and functions.
The style of programming that you have been introduced to so far is known as
<em>procedural programming</em>. Procedural programming involves using 
reusable <em>functions</em> to perform common tasks, such as calculating the distance between two
points, the area of a circle or a factorial, or printing a certain character a certain number of times.
In this unit, however, you will learn <em>object-oriented programming</em>. Object-oriented (OO) programming
involves writing code to represent real world <em>objects</em> such as a student, a car, players and enemies
in games, or graphical user interface elements such as windows and buttons. As you will hopefully see in this
unit, once you have learnt it, OO programming leads to more readable, more maintainable code.</p>

<p>There are many different OO languages, such as Java, C#, C++ and Objective-C 
as well as less-well-known ones such as Smalltalk. The language used in this unit will be <em>Java</em>. 
Java is one
of the most commonly-used OO languages today, and is the main language used to develop Android apps.
It is also used in many general-purpose desktop and web applications. The principal benefit of Java is that
it is <em>cross-platform</em>: you can write a Java program on Windows and the same program will work on other
operating systems such as Linux or Mac OS X. </p>

<h2>Introduction to Java</h2>

<p>Java is a <em>combined compiled/interpreted language</em>. What does this mean?

    <ul>
    <li>A <em>compiled</em> language is a language which is converted from source code into
    <em>machine code for the machine's CPU, in an executable format understandable by the machine's
    operating system</em>. This conversion is done by a piece of software known as a <em>compiler</em>.
    For example, on a Windows/Intel system, Intel machine code instructions would
    be stored in a .EXE file. On a Linux/Intel system, Intel machine code instructions would be stored
    in a Linux executable file, which has a different format to an .EXE but still contains Intel 
    instructions. On a smartphone with an ARM processor, ARM machine code instructions would
    be generated. C++ is an example of a compiled language. 
    You write C++ code and then <em>compile it into machine code</em> for the target CPU and operating system.
    Machine code is a <em>binary</em> format: a series of bytes which mean something to a CPU but cannot be
    read in a text editor.</li>
    <li>An <em>interpreted</em> language is a language in which each line of code is read by a piece of 
    software known as an <em>interpreter</em> at <em>run time</em>, i.e. when you run the program.
    Interpreted languages are slower than compiled languages. With a compiled language, you run the
    executable which contains machine code, and machine code is directly understood by the CPU.
    With interpreted languages, the process of interpreting each line of code at run time is a slow one
    in comparison to the CPU executing instructions that it understands directly. On the other hand,
    interpreted languages are easier to debug, as you can simply edit the code: with compiled languages, you
    need to compile again, and if the machine code generated by the compiler contains certain types of errors
    (e.g. trying to add an element to an array outside its bounds) there is the risk that the computer will
    crash.</li>
    </ul>

</p>
<p>Java does not exactly fit into either category, but instead adopts a hybrid approach. You 
<em>compile</em> a Java program, but it is not compiled into native machine code. Instead, it is compiled into a format known as
<em>bytecode</em>. Bytecode is a binary format understood by the <em>Java Virtual Machine</em>. The Java 
Virtual Machine (part of the <em>Java Runtime Environment (JRE)</em>) is a piece of software which reads and executes Java bytecode, and in doing so, runs your Java program. This is the <em>interpreted</em> part of the
Java system. The result is that <em>any computer with the JRE installed</em> can read Java bytecode. So you can distribute Java bytecode to Windows, Linux or Mac systems, and as long as they have the JRE installed, they will all be able to run your program.
Because it is a compact, machine-friendly format, the Java Virtual Machine can read Java bytecode
faster than interpreters in pure interpreted languages can read text files of source code. </p>
<p>The diagram below compares a standard compiled language and Java.
<br />
<img src="images/compiled_vs_java.png" alt="Fully compiled language vs. Java" /> <br />
</p>
<h2>Introduction to the Eclipse Integrated Development Environment</h2>

<p>In this unit we will use the <em>Eclipse</em> Integrated Development Environment (IDE).
Eclipse uses the concept of a <em>workspace</em> and <em>projects</em>. A <em>project</em> is an individual
program you might be working on: it can contain one or more Java files. A <em>workspace</em> is a collection
of projects. So you might have one project per topic, and one workspace for the whole of the first year
(then another workspace for Year 2, containing your work next year).</p>

<h3>Instructions for creating a project with Eclipse</h3>

<p>Find Eclipse on the system and click on the icon. 
<ol>
<li><em>Enter your workspace</em>. On running Eclipse, it will prompt you for a workspace:<br />
<img src="images/oo1.png" alt="Selecting a workspace in Eclipse" /> <br />
Enter <em>U:\OOProgramming</em> for the workspace. You can, as an alternative to the U drive, choose to save
your work on a USB stick, but <em>do not save it on the C: drive!</em>. The C: drive is wiped when you log out
and all your work will be lost!</li>
<li><em>Show the workspace</em> by selecting the options
<em>Window-Show View-Project Explorer</em>: <br />
<img src="images/oo2.png" alt="Showing the project explorer in Eclipse" /><br />
</li>
<li><em>Create a new project</em>.  This can be done by selecting <em>File-New-Java Project</em>.
<br />
<img src="images/oo3.png" alt="Creating a new project in Eclipse" /><br />
Enter a name for your project, such as <em>HelloWorld</em> for your first project: <br />
<img src="images/oo4.png" alt="Entering a project name" /><br />
 You will see a new entry
for your project on the Project Explorer on the left hand side of the screen. <br />
<img src="images/oo5.png" alt="Project added to workspace" /><br />
</li>
<li>Click on the "src" folder within your project. <br />
<img src="images/oo6.png" alt="Project 'src' folder" /><br />
This folder will contain the Java code for your project,
and select <em>File-New-Class</em>. The meaning of the term "class" will be
explained below.
<img src="images/oo7.png" alt="Creating a new class in Eclipse" /><br />
In the dialog box which appears, enter a name for your class: <em>HelloWorldApp</em>.<br />
<img src="images/oo8.png" alt="Entering a class name" />
</li>
<li>A window will now appear for you to start entering your Java code. Enter this code:
<pre>
public class HelloWorldApp
{
    public static void main (String[] args)
    {
        System.out.println("Hello Object Oriented World!");
    }
}
</pre>
</li>
<li>Finally, click the green "Run" button to run your code. The output will appear in the console.
<img src="images/oo9.png" alt="Running your code" /><br />
</li>
</ol>
</p>
<h3>Explanation of the code</h3>
<p>We will now explain the Java code line by line.
<pre>public class HelloWorldApp</pre>
All Java programs consist of one or more <em>classes</em>. A <em>class</em> is basically a code representation
of a real-world entity, such as a person or a cat. Here, the class is representing the application as
a whole, which is why we have called it <em>HelloWorldApp</em>. 
<pre> { </pre>
Opening curly brackets begin a <em>code block</em>. A code block is a section of code associated with the
previous statement. Here, the previous statement was the declaration of the class, so this curly bracket 
begins the code associated with the class. 
Other statements in Java, such as <em>if</em> statements or <em>for</em> loops, also use curly
brackets: you will see those later.
<pre>public static void main (String[] args)</pre>
This begins the <em>main() method</em>. A <em>method</em> is a function (you have done functions already in
Introduction to Programming and Problem Solving) inside a class. The <em>main()</em> method is a special
method in Java: it is the entry point of the program. So when you run a Java program, the first code that will
be run will be the code inside the <em>main()</em> method.
<pre> { </pre>
The declaration of the main() method is followed by another curly bracket. In a similar manner to the previous
curly bracket beginning the class, this curly bracket begins the 
code associated with the main() method. 
<pre>System.out.println("Hello Object Oriented World!");</pre>
The <em>System.out.println()</em> statement prints the specified message to the screen. So here,
<em>Hello Object Oriented World!</em> will be printed to the screen.
<pre> } </pre>
This curly bracket closes the main() method.
<pre> } </pre>
... and the second curly bracket closes the class.
</p>
<h2>Arithmetic operators in Java</h2>
<p>Java has the standard set of arithmetic operators, which are the same as many other languages.
        <ul>
        <li><em>+</em>: addition</li>
        <li><em>-</em> : subtraction</li>
        <li><em>*</em> : multiplication</li>
        <li><em>/</em> : division. With float or double, an exact, decimal division will be done;
        with integers, shorts and longs, the result will be rounded down to the nearest whole number.</li>
        <li><em>%</em> : the modulus (remainder) operator for integer division. So 5 % 3 = 2, because if
        we divide 5 by 3, we get 1 with a remainder of 2.</li>
        </ul>
</p>
<h2>Data types in Java</h2>

<p>A difference between Java and Python is that Java is a <em>strongly typed</em> language. What does this mean?
Whereas in Python, you do not need to declare the <em>data type</em> of a variable (by data type, we mean
integer, floating-point, string and so on), in Java you do. Java has the following data types.
These types are all known as <em>primitive types</em>. A primitive type is a fundamental data type built into 
the language, as opposed to a user-defined data type, created by the developer.
    <ul>
    <li><em>boolean</em>: represents a boolean, i.e. true or false, value. Expressions return
    boolean values. Boolean variables can be equal to either <em>true</em> or <em>false</em>.</li>
    <li><em>byte</em>: represents a single byte of data. Can hold the values 0 to 255.</li>
    <li><em>char</em>: represents individual characters such as 'a', '!' or '$'. Some of you may have heard of the
    <em>ASCII character set</em> where the values between 0 and 127 represent single characters
    (letters, numbers and punctuation from American English). An extended version, covering values 0 to 255, accounts for Western European characters (French, German etc as well as currency symbols such as the pound and
    the euro). However, the
    <em>char</em> data type in Java is designed to hold characters from international character sets such as 
    Chinese or Arabic and therefore <em>char</em> occupies <em>two bytes</em> in Java. The two-byte
    system for representing characters is called <em>Unicode</em>.</li>
    <li><em>int</em>: represents an integer (a whole number). Occupies four bytes (32 bits). 
    Can hold positive and negative values, and therefore can store values from -2<sup>31</sup> to +2<sup>31</sup>-1 (31 bits for the number, 1 bit for the sign).</li>
    <li><em>long</em>: represents larger whole numbers. Occupies eight bytes (64 bits). Again can hold positive
    and negative values, and therefore can store values from -2<sup>63</sup> to +2<sup>63</sup>-1.</li>
    <li><em>short</em>: represents smaller whole numbers in situations where memory is limited. 
    Occupies two bytes (16 bits). Again can hold positive
    and negative values, and therefore can store values from -2<sup>15</sup> to +2<sup>15</sup>-1
    (-65536 to +65535)</li>
    <li><em>float</em>: represents floating-point numbers. Occupies four bytes. Recommended where memory is short
    but due to the relatively low precision, not recommended for applications such as 
    scientific and financial data.</li>
    <li><em>double</em>: represents double-precision floating-point numbers. Occupies eight bytes.
    Recommended for operations where high precision is vital, such as scientific and financial data.</li>
    </ul>
</p>

<p>When you wish to use a variable for the first time in Java, you have to <em>declare</em> it.
Declaring a variable involves stating its name and what data type it is. If you try to use a variable without
having first declared it, you wil get an error. For example, the code extract (note that this is not a complete
program, just an extract of code):
<pre>int a;
a=3;</pre>
will declare that the variable <em>a</em> exists and is an <em>int</em>, and then assigns the value 3 to
it. However:
<pre>a=3;</pre>
on its own will give a compiler error as the variable <em>a</em> has not been declared yet.
We can also <em>declare a variable and initialise it in one statement</em>. The following does this:
<pre>int a=3;</pre>
</p>
<p>Here is a complete program which declares some variables and uses them.
<pre>
public class VariablesApp
{
    public static void main (String[] args)
    {
        int a;
        a = 2;
        System.out.println("The variable a is: " + a);
        double b = 3.1415927;
        System.out.println("The variable b is: " + b);
        float c = 1.234f;
        System.out.println("The variable c is: " + c);
    }
}
</pre>
</p>
<p>Create this program in your current project, enter it and run it (you can specify which class to run by
selecting it on the Project Explorer on the left-hand side). 
Note how, when we initialise a <em>float</em> variable, we have to add the character "f"
after the number, i.e. <em>1.234f</em>. This distinguishes between <em>double</em> and <em>float</em> numbers.
A decimal number without an "f" is treated as a double, while one with an "f" is treated as a float.</p>
<h4>Exercise 1</h4>
<p>Add the following line to the end of your <em>main()</em>:
<pre>d = 4;</pre>
Does your program compile? If not, why not? Fix the program so that it compiles.</p>
<h3>Loss of precision</h3>
<p>When dealing with basic Java data types, you might come across a <em>loss of precision error</em>. Try adding
the following line to your <em>VariablesApp</em>:
<pre>int e = 2.718281828;</pre>
Does this work? You will find it generates a <em>loss of precision error</em>. The number
<em>2.718281828</em> is a <em>double</em>. However, we are trying to put a double inside an int variable.
<em>int</em> variables can only hold whole numbers, so we are unable to store the double inside the variable
without losing precision. Because this sort of situation is likely to be a programming error, the compiler
refuses to allow the loss of precision and generates an error.</p>
<h4>Exercise 2</h4>
<ul>
<li>Correct the variable <em>e</em> to have a suitable data type.</li>
<li>Try adding this line:
<pre>float f = 40075.16;</pre>
Why does the compiler give you an error? Correct this statement while keeping the data type of the variable
<em>f</em> as <em>float</em>.</li>
</ul>
<!-- casting is a bit advanced, I think, for this point. could come in later. -->
<h3>Strings</h3>
<p>Java also has the concept of a <em>string</em>. As you should know from your Period 1 unit, a 
<em>string</em> is a sequence of characters and is therefore used to store words, sentences, paragraphs and so
on. In Java, the data type for a string is <em>String</em>. Unlike the data types you met above, however,
<em>String</em> is not a primitive type. It is a <em>class</em>. Remember you 
saw earlier that a <em>class</em> is a representation of a real-world entity. So the Java <em>String</em> class
is a representation of a string.</p>
<p>Luckily, strings are quite easy to use. Here is an example program which uses strings. Create a new 
program within your project as follows:
<pre>
public class StringsApp
{
    public static void main (String[] args)
    {
        String str, str2;
        str = "Hello";
        str2 = "World!";
        System.out.println(str);
        System.out.println(str + str2);
        System.out.println(str + " " + str2);
    }
}
</pre>
This example shows how we declare <em>String</em> variables in the same way that we declare variables using
primitive types. The example also shows some other new concepts:
    <ul>
    <li>Note how we can declare multiple variables of the same data type 
    on the same line, by separating them with a comma:
    <pre>String str, str2;</pre>
    We could also declare <em>and initialise</em> multiple variables on the same line, e.g.:
    <pre>String str="Hello", str2="World!";</pre>
    </li>
    <li>Note how we use the <em>+</em> (addition)
    operator to join strings together. The second print statement will print
    <em>HelloWorld!</em> while the third will print <em>Hello World!</em>. Joining strings together is known as
    <em>string concatenation</em>.</li>
    </ul>
</p>

<p>There are some subtleties with string concatenation. Try adding the following to your main():
<pre>System.out.println("The sum of 1 and 2 is: " + 1 + 2);</pre>
</p>
<p>The problem with the above example is to do with the way addition operators are processed and what Java does
when a string and a number are added together. They are processed from left to right by default. If a string and
a number are added together, Java basically converts the number to a string and does a string concatenation.
So the first thing that happens is that the string <em>"The sum of 1 and 2 is: "</em> and <em>1</em> are
concatenated and we get the string:
<pre>The sum of 1 and 2 is: 1</pre>
Then the <em>2</em> is added. However, the result of the first addition is a string, and so this second addition
is also treated as a string concatenation and we get the result:
<pre>The sum of 1 and 2 is: 12</pre>
Clearly wrong!</p>
<p>How do we solve this? We make use of <em>parentheses (brackets)</em> to force Java to evaluate the integer
addition before doing the string concatenation. So if we try to do this:
<pre>System.out.println("The sum of 1 and 2 is: " + (1 + 2));</pre>
the expression in the brackets (1 + 2) is <em>evaluated first</em> (bracketed expressions are evaluated first
see <a href="http://www.mathsisfun.com/operation-order-bodmas.html">BODMAS</a>)
and we get the number 3. <em>Then</em>, the string <em>"The sum of 1 and 2 is: "</em> is concatenated with the 
result of the bracketed addition, i.e. the number <em>3</em>, and we get:
<pre>The sum of 1 and 2 is: 3</pre>
</p>
<h4>Exercise 3</h4>
<p>What output will this give?
<pre>System.out.println(1 + 2 + " is the sum of 1 and 2");</pre>
Try and work it out <em>before</em> you test it. Why do you get this result?
</p>
<h2>Obtaining user input in Java</h2>
<p>To obtain user input in Java, we use a <em>Scanner</em>. Here is an example of the use of a Scanner:
<pre>
import java.util.Scanner;

public class ScannerApp
{
    public static void main (String[] args)
    {
        String str = "";
        Scanner scanner1 = new Scanner (System.in);
        System.out.println("Please enter a string:");
        str = scanner1.nextLine();
        System.out.println("You entered: " + str);
    }
}
</pre>
To consider this example:
<ul>
<li>
<pre>Scanner scanner1 = new Scanner(System.in)</pre>
This line creates a new scanner called <em>scanner1</em> and associates it with <em>standard input</em>
(System.in). Standard input represents the flow of information from the keyboard to the program. (Likewise,
standard <em>output</em> represents the flow of information out of the program, typically to a screen; this is
what <em>System.out</em> represents in <em>System.out.println()</em>.
</li>
<li> Hopefully you can see that <em>Scanner.nextLine()</em> reads in a line of text from the keyboard and stores
it in a String variable.</li>
<li>Also note the line:
<pre>import java.util.Scanner;</pre>
We will cover the precise meaning of this in more detail next year but the best way to think of it at
the moment is as follows. Some Java functionality is available to us by default (e.g. <em>System.out.println</em>)
but other functionality has to be <em>imported</em> into our program from what is called a <em>package</em>.
So what this line is doing is importing <em>Scanner</em> from the <em>java.util package</em>.</li>
</ul>
</p>
<h3>Scanners and numbers</h3>
<p>It is possible to use the Scanner to read in numbers from the keyboard. There are dedicated methods for doing
this, such as <em>nextInt()</em> or <em>nextDouble()</em> (rather than nextLine() ) but using a mix of these
and <em>nextLine()</em> can lead to problems where new line (ENTER) characters are left in the input and can
disrupt subsequent attempts to read in data. So a better approach is to read in <em>everything as a string</em>
and <em>convert the string input to a numeric data type, as required</em>. The example below shows this:
<pre>
import java.util.Scanner;

public class NumberScannerApp
{
    public static void main (String[] args)
    {
        String str = "";
        Scanner scanner1 = new Scanner (System.in);
        System.out.println("Please enter an integer:");
        str = scanner1.nextLine();
        int i = <em>Integer.parseInt(str);</em>
        System.out.println("You entered the integer " + i);
    }
}
</pre>
Note how we read the input in as a string and then <em>convert it to an integer</em>
using <em>Integer.parseInt()</em>. <em>Integer.parseInt()</em> is commonly used in Java: it takes in a String
as a parameter and <em>returns</em> an integer. There are similar methods for other numeric data types, such as
<em>Double.parseDouble()</em> for converting strings into doubles.</p>
<h4>Exercise 4</h4>
<p>Write a program to read in two numbers from the keyboard and add them together.</p>
</body>
</html>
