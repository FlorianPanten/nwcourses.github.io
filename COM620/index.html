<!DOCTYPE html><html><head><link rel='stylesheet' type='text/css' href='../css/dfti0910.css' /></head><body><h1 id="immersivetechnologies">Immersive Technologies</h1>
<p>These are the full notes for the <em>Immersive Technologies</em> module.</p>
<h2>Introduction</h2>
<p>
Virtual reality (computer generated worlds using 3D graphics) and augmented reality (the augmentation of the real world, as seen through a device's camera feed, with computer generated content) are amongst the most exciting new developments in computing these days. From  3D virtual worlds to AR games such as Pokemon Go, they offer many new and exciting possibilities. 

Furthermore, development of VR and AR applications is increasingly possible using the web, using no more than HTML and JavaScript. This module will focus on the development of web based VR and AR mobile applications, capable of running on multiple platforms, including Android and iOS. The module will be JavaScript based and will make use of popular and emerging, cutting-edge technologies for web VR and AR such as A-Frame, three.js, and AR.js. 
</p>
<h2 id="contents">Contents</h2>
<h3>Weeks 1-4 : Introduction to 3D graphics with three.js</h3>
<ul>
<li><a href='week1.html'>Week 1: Introduction to OpenGL and three.js</a></li>
<li><a href='week2.html'>Week 2: Further three.js: screen resize, key events, camera rotation</a></li>
<li><a href='week3.html'>Week 3: Lighting and Textures</a></li>
<li><a href='week4.html'>Week 4: JavaScript Modules; Loading and Displaying Models</a></li>
</ul>
<h3>Weeks 5-9</h3>
<h4>Using A-Frame (including three.js and A-Frame together)</h4>
<ul>
<li><a href='week5.html'>Week 5: Introduction to A-Frame</a></li>
<li><a href='week6.html'>Week 6: Further A-Frame; using three.js from A-Frame</a></li>
</ul>
<h4>Weeks 7-8: Moving to AR</h4>
<ul>
<li><a href='week7.html'>Week 7: Working with GeoAPIs including latitude/longitude and projections</a></li>
<li><a href='week8.html'>Week 8: Using augmented reality library AR.js</a></li>
</ul>
<h3>Weeks 9-10: Offline web apps</h3>
<ul>
<li><a href='week9.html'>Week 9: Offline Web Apps: service workers, PWAs</a></li>
<li><a href='week10.html'>Week 10: Client-side Databases: IndexedDB</a></li>
</ul>
<h3>Weeks 11-12: Advanced and Cutting-edge topics</h3>
<ul>
<li><a href='week11.html'>Week 11: Further A-Frame and AR: using WebXR for markerless AR</a></li>
<li>Week 12: Interesting Future Topics, including open-source plane detection (lecture only); work on assignment in lab</li>
</ul>
<h2>Assignment URL</h2>
<h3>Tiled option</h3>
<p>The URL to use for the assignment, if doing the Points Of Interest scenario,
is (if you want to use tiling): 
<pre>https://hikar.org/webapp/map/Z/X/Y.poi.json?outProj=4326</pre>
(POIs only) or
<pre>https://hikar.org/webapp/map/Z/X/Y.json?outProj=4326</pre>
(including roads, paths etc)
where Z, X and Y are the coordinates of the data <em>tile</em> to use. (A tile is a rectangular area covering part of the Earth). You can use the <code>aframe-osm-3d</code> components from <a href='week8.html'>Week 8</a> for this. Alternatively, to obtain the tile for a given latitude and longitude, you can use <code>jsfreemaplib</code> again, e.g.:
<pre>
import { GoogleProjection } from 'jsfreemaplib';

const merc = new GoogleProjection();

// Use zoom level 13 - this is a good size
// assume 'longitude' and 'latitude' contain your current longitude/latitude
const tile = merc.getTileFromLonLat(longitude, latitude, 13);

// <em>tile</em> is an object of class Tile. It has x, y and z properties
// These can be used to download data from the assignment URL
console.log(`Tile x: ${tile.x}, y: ${tile.y}, z: ${tile.z}`);
</pre>
</p>
<p><strong>If you want to return roads, and paths, as well as POIs you need to do a bit extra.</strong>
You ALSO need to set the emitRawData option to true when you set up your osm3d component, i.e.
<pre>&lt;a-entity terrarium-dem='...' osm3d='url: https://hikar.org/webapp/map/{z}/{x}/{y}.json?outProj=4326; emitRawData:true' /&gt;</pre>
If you do this, you can then access the roads and footpaths from the web API via <code>e.detail.rawData.ways</code> in the osm-data-loaded event. This gives you a GeoJSON array: you can see the contents of this by displaying it on the console, i.e.
<pre>console.log(e.detail.rawData.ways);</pre>
If you do this I would recommend using 13 for the zoom level in the terrarium-dem component, not 12.
</p>
<h3>Non-tiled option</h3>
<p>If you do <em>not</em> want to use tiling, use this bounding-box based URL:
<pre>https://hikar.org/webapp/map/all?bbox=west,south,east,north</pre>
</p>
<h2>Solutions (not available for all weeks)</h2>
<p>See <a href='https://github.com/nwcourses/nwcourses.github.io/tree/master/COM620/solutions'>here</a>.</p>
<h2>Further reading - WAD</h2>
<p><a href='/COM518'>These notes</a> from the second-year WAD module provide additional information about various JavaScript topics.</p>
</body>
</html>
